{"version":3,"sources":["actions/alert.actions.js","firebase/config.js","firebase/index.js","actions/user.actions.js","actions/data.actions.js","routes.js","containers/DefaultLayout/DefaultLayout.js"],"names":["alertActions","success","message","type","alertConstants","SUCCESS","error","ERROR","visible","show","VISIBLE","clear","CLEAR","fire","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","userActions","login","logout","dispatch","userConstants","LOGOUT","reset","dataActions","dataReset","register","email","username","password","history","document","user","REGISTER_REQUEST","auth","createUserWithEmailAndPassword","then","authData","firestore","collection","doc","uid","set","firstName","lastName","phone","headshot","REGISTER_SUCCESS","catch","REGISTER_FAILURE","failure","toString","getElementById","style","borderColor","forgotPassword","emailAddress","sendPasswordResetEmail","loginFailure","googleLogin","provider","GoogleAuthProvider","signInWithPopup","result","token","credential","accessToken","tempUser","get","snapshot","data","displayName","photoURL","request","isLoginSuccess","userData","LOGIN_SUCCESS","isLoginPending","LOGIN_REQUEST","facebookLogin","FacebookAuthProvider","reCaptchaUpdate","human","signUp","latestAction","UPDATE_CAPTCHA","loginError","LOGIN_FAILURE","signInWithEmailAndPassword","dataConstants","DATA_RESET","routes","path","exact","name","component","React","lazy","DefaultFooter","DefaultHeader","DefaultLayoutPage","loading","className","fallback","this","Container","fluid","map","route","idx","key","render","props","googleMapURL","loadingElement","height","containerElement","from","to","Component","DefaultLayout","connect","state","authentication","errorMessage","alert","errorVisible","signupEmail"],"mappings":"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","file":"static/js/7.f8cc1fbd.chunk.js","sourcesContent":["import { alertConstants } from '../constants';\r\n\r\nexport const alertActions = {\r\n    success,\r\n    error,\r\n    visible,\r\n    clear,\r\n};\r\n\r\nfunction success(message) {\r\n    return { type: alertConstants.SUCCESS, message };\r\n}\r\n\r\nfunction error(message) {\r\n    return { type: alertConstants.ERROR, message };\r\n}\r\n\r\nfunction visible(show) {\r\n    return { type: alertConstants.VISIBLE, show };\r\n}\r\n\r\nfunction clear() {\r\n    return { type: alertConstants.CLEAR };\r\n}\n","// src/firebase/config.js\r\n\r\nconst devConfig = {\r\n  apiKey: \"AIzaSyDgllL9hOGEIR7EZZlKp-L6L00dnOhSNlE\",\r\n  authDomain: \"artres-e36ad.firebaseapp.com\",\r\n  databaseURL: \"https://artres-e36ad.firebaseio.com\",\r\n  projectId: \"artres-e36ad\",\r\n  storageBucket: \"\",\r\n  messagingSenderId: \"734256624133\",\r\n  appId: \"1:734256624133:web:963b27ac35ca0585\"\r\n};\r\n\r\nconst prodConfig = {\r\n  apiKey: \"AIzaSyDgllL9hOGEIR7EZZlKp-L6L00dnOhSNlE\",\r\n  authDomain: \"artres-e36ad.firebaseapp.com\",\r\n  databaseURL: \"https://artres-e36ad.firebaseio.com\",\r\n  projectId: \"artres-e36ad\",\r\n  storageBucket: \"\",\r\n  messagingSenderId: \"734256624133\",\r\n  appId: \"1:734256624133:web:963b27ac35ca0585\"\r\n};\r\n\r\nexport {\r\n  devConfig,\r\n  prodConfig\r\n}\r\n","import { devConfig } from './config';\r\nimport firebase from 'firebase';\r\n\r\nvar fire = firebase.initializeApp(devConfig);\r\nexport default fire;\r\n","import { userConstants } from '../constants';\r\nimport { alertActions, dataActions } from './';\r\nimport fire from \"../firebase\";\r\nimport firebase from 'firebase';\r\n\r\nexport const userActions = {\r\n    login,\r\n    logout,\r\n    reset,\r\n    register,\r\n    forgotPassword,\r\n    loginFailure,\r\n    googleLogin,\r\n    facebookLogin,\r\n    reCaptchaUpdate,\r\n    //delete: _delete\r\n};\r\n\r\nfunction loginFailure(loginError, error, user, userData) {\r\n  return {\r\n    type: userConstants.LOGIN_FAILURE,\r\n    loginError,\r\n    error,\r\n    user,\r\n    userData\r\n  }\r\n}\r\n\r\nfunction login(email, password, history) {\r\n  return dispatch => {\r\n    fire.auth()\r\n      .signInWithEmailAndPassword(email, password)\r\n      .then(user => {\r\n        var tempUser = {};\r\n        if (user) {\r\n          dispatch(request(true, email));\r\n          fire.firestore().collection(\"users\").doc(user.user.uid).get().then(function (snapshot) {\r\n            tempUser[\"email\"] = snapshot.data().email;\r\n            tempUser[\"username\"] = snapshot.data().username;\r\n            tempUser[\"phone\"] = snapshot.data().phone;\r\n            tempUser[\"firstName\"] = snapshot.data().firstName;\r\n            tempUser[\"lastName\"] = snapshot.data().lastName;\r\n            tempUser[\"headshot\"] = snapshot.data().headshot;\r\n            dispatch(request(false, email));\r\n            dispatch(success(true, user, tempUser));\r\n            dispatch(alertActions.visible(true));\r\n          },\r\n            error => {\r\n              document.getElementById(\"inputEmail\").style.borderColor = \"red\";\r\n              document.getElementById(\"inputPassword\").style.borderColor = \"red\";\r\n              dispatch(request(false, email));\r\n              dispatch(loginFailure(true, error.toString(), null, null));\r\n              dispatch(alertActions.error(error.toString()));\r\n              dispatch(alertActions.visible(true));\r\n            });\r\n        }\r\n      },\r\n      error => {\r\n          document.getElementById(\"inputEmail\").style.borderColor = \"red\";\r\n          document.getElementById(\"inputPassword\").style.borderColor = \"red\";\r\n          dispatch(request(false, email));\r\n          dispatch(loginFailure(true, error.toString(), null, null));\r\n          dispatch(alertActions.error(error.toString()));\r\n          dispatch(alertActions.visible(true));\r\n        });\r\n\r\n  };\r\n\r\n  function request(isLoginPending, user) { return { type: userConstants.LOGIN_REQUEST, isLoginPending, user } }\r\n  function success(isLoginSuccess, user, userData) { return { type: userConstants.LOGIN_SUCCESS, isLoginSuccess, user, userData } }\r\n}\r\n\r\nfunction facebookLogin(history) {\r\n  return dispatch => {\r\n    var provider = new firebase.auth.FacebookAuthProvider();\r\n    fire.auth().signInWithPopup(provider).then(function(result) {\r\n      // This gives you a Google Access Token. You can use it to access the Google API.\r\n      var token = result.credential.accessToken;\r\n      // The signed-in user info.\r\n      var user = result.user;\r\n      var tempUser = {};\r\n      if (user) {\r\n        fire.firestore().collection(\"users\").doc(user.uid).get().then(function (snapshot) {\r\n          if(snapshot.data()) {\r\n            tempUser[\"email\"] = snapshot.data().email;\r\n            tempUser[\"username\"] = snapshot.data().username;\r\n            tempUser[\"phone\"] = snapshot.data().phone;\r\n            tempUser[\"firstName\"] = snapshot.data().firstName;\r\n            tempUser[\"lastName\"] = snapshot.data().lastName;\r\n            tempUser[\"headshot\"] = snapshot.data().headshot;\r\n            tempUser[\"googleCredential\"] = token;\r\n          }\r\n          else {\r\n            fire.firestore().collection(\"users\").doc(user.uid).set({\r\n              email: user.email,\r\n              username: user.displayName,\r\n              firstName: \"\",\r\n              lastName: \"\",\r\n              phone: \"\",\r\n              headshot: user.photoURL,\r\n            });\r\n          }\r\n          dispatch(request(false, result.email));\r\n          dispatch(success(true, user, tempUser));\r\n          dispatch(alertActions.visible(true));\r\n        },\r\n          error => {\r\n            document.getElementById(\"inputEmail\").style.borderColor = \"red\";\r\n            document.getElementById(\"inputPassword\").style.borderColor = \"red\";\r\n            dispatch(request(false, result.email));\r\n            dispatch(loginFailure(true, error.toString(), null, null));\r\n            dispatch(alertActions.error(error.toString()));\r\n            dispatch(alertActions.visible(true));\r\n          });\r\n      }\r\n    }).catch(function(error) {\r\n      var email = error.email;\r\n      dispatch(request(false, email));\r\n      dispatch(loginFailure(true, error.toString(), null, null));\r\n      dispatch(alertActions.error(error.toString()));\r\n      dispatch(alertActions.visible(true));\r\n    });\r\n  };\r\n\r\n  function request(isLoginPending, user) { return { type: userConstants.LOGIN_REQUEST, isLoginPending, user } }\r\n  function success(isLoginSuccess, user, userData) { return { type: userConstants.LOGIN_SUCCESS, isLoginSuccess, user, userData } }\r\n}\r\n\r\nfunction googleLogin(history) {\r\n  return dispatch => {\r\n    var provider = new firebase.auth.GoogleAuthProvider();\r\n    fire.auth().signInWithPopup(provider).then(function(result) {\r\n      // This gives you a Google Access Token. You can use it to access the Google API.\r\n      var token = result.credential.accessToken;\r\n      // The signed-in user info.\r\n      var user = result.user;\r\n      var tempUser = {};\r\n      if (user) {\r\n        fire.firestore().collection(\"users\").doc(user.uid).get().then(function (snapshot) {\r\n          if(snapshot.data()) {\r\n            tempUser[\"email\"] = snapshot.data().email;\r\n            tempUser[\"username\"] = snapshot.data().username;\r\n            tempUser[\"phone\"] = snapshot.data().phone;\r\n            tempUser[\"firstName\"] = snapshot.data().firstName;\r\n            tempUser[\"lastName\"] = snapshot.data().lastName;\r\n            tempUser[\"headshot\"] = snapshot.data().headshot;\r\n            tempUser[\"googleCredential\"] = token;\r\n          }\r\n          else {\r\n            fire.firestore().collection(\"users\").doc(user.uid).set({\r\n              email: user.email,\r\n              username: user.displayName,\r\n              firstName: \"\",\r\n              lastName: \"\",\r\n              phone: \"\",\r\n              headshot: user.photoURL,\r\n            });\r\n          }\r\n          dispatch(request(false, result.email));\r\n          dispatch(success(true, user, tempUser));\r\n          dispatch(alertActions.visible(true));\r\n        },\r\n          error => {\r\n            document.getElementById(\"inputEmail\").style.borderColor = \"red\";\r\n            document.getElementById(\"inputPassword\").style.borderColor = \"red\";\r\n            dispatch(request(false, result.email));\r\n            dispatch(loginFailure(true, error.toString(), null, null));\r\n            dispatch(alertActions.error(error.toString()));\r\n            dispatch(alertActions.visible(true));\r\n          });\r\n      }\r\n    }).catch(function(error) {\r\n      var email = error.email;\r\n      dispatch(request(false, email));\r\n      dispatch(loginFailure(true, error.toString(), null, null));\r\n      dispatch(alertActions.error(error.toString()));\r\n      dispatch(alertActions.visible(true));\r\n    });\r\n\r\n  };\r\n\r\n  function request(isLoginPending, user) { return { type: userConstants.LOGIN_REQUEST, isLoginPending, user } }\r\n  function success(isLoginSuccess, user, userData) { return { type: userConstants.LOGIN_SUCCESS, isLoginSuccess, user, userData } }\r\n}\r\n\r\nfunction reset() {\r\n  return dispatch => {\r\n    dispatch(dataActions.dataReset());\r\n  }\r\n}\r\n\r\nfunction reCaptchaUpdate(human, signUp, latestAction) {\r\n  return { type: userConstants.UPDATE_CAPTCHA, human, signUp, latestAction }\r\n}\r\n\r\nfunction logout() {\r\n  //fire.auth().signOut();\r\n  return dispatch => {\r\n    dispatch(userLogout());\r\n  }\r\n\r\n  function userLogout() { return { type: userConstants.LOGOUT } }\r\n}\r\n\r\nfunction register(email, username, password, history, document) {\r\n   return dispatch => {\r\n       dispatch(request(email));\r\n       fire.auth().createUserWithEmailAndPassword(email, password).then((authData) => {\r\n        fire.firestore().collection(\"users\").doc(authData.user.uid).set({\r\n          email: email,\r\n          username: username,\r\n          firstName: \"\",\r\n          lastName: \"\",\r\n          phone: \"\",\r\n          headshot: \"https://s3.amazonaws.com/dejafood.com/mobile_assets/deja_gradient.png\",\r\n        });\r\n        dispatch(success(authData));\r\n        dispatch(login(email, password, history));\r\n        dispatch(alertActions.visible(false));\r\n        dispatch(alertActions.clear());\r\n       }).catch(function(error) {\r\n        dispatch(failure(true, error.toString(), null, null));\r\n        dispatch(alertActions.error(error.toString()));\r\n        dispatch(alertActions.visible(true));\r\n        document.getElementById(\"inputEmail\").style.borderColor = \"red\";\r\n        document.getElementById(\"inputUsername\").style.borderColor = \"red\";\r\n        document.getElementById(\"inputPassword\").style.borderColor = \"red\";\r\n      });\r\n     };\r\n\r\n   function request(user) { return { type: userConstants.REGISTER_REQUEST, user } }\r\n   function success(user) { return { type: userConstants.REGISTER_SUCCESS, user } }\r\n   function failure(error) { return { type: userConstants.REGISTER_FAILURE, error } }\r\n}\r\n\r\nfunction forgotPassword(emailAddress, document) {\r\n   return dispatch => {\r\n     fire.auth().sendPasswordResetEmail(emailAddress).then(() => {\r\n      dispatch(alertActions.visible(true));\r\n      dispatch(alertActions.error(\"Successfully sent password reset email!\"));\r\n    }).catch(function(error) {\r\n      dispatch(alertActions.error(error.toString()));\r\n      dispatch(alertActions.visible(true));\r\n      document.getElementById(\"inputEmail\").style.borderColor = \"red\";\r\n    });\r\n   };\r\n}\r\n\r\n//// prefixed function name with underscore because delete is a reserved word in javascript\r\n//function _delete(id) {\r\n//    return dispatch => {\r\n//        dispatch(request(id));\r\n\r\n//        userService.delete(id)\r\n//            .then(\r\n//                user => dispatch(success(id)),\r\n//                error => dispatch(failure(id, error.toString()))\r\n//            );\r\n//    };\r\n\r\n//    function request(id) { return { type: userConstants.DELETE_REQUEST, id } }\r\n//    function success(id) { return { type: userConstants.DELETE_SUCCESS, id } }\r\n//    function failure(id, error) { return { type: userConstants.DELETE_FAILURE, id, error } }\r\n//}\r\n","import { dataConstants } from '../constants';\r\n\r\n// const dateformat = require('dateformat');\r\nexport const dataActions = {\r\n  dataReset,\r\n};\r\n\r\nfunction dataReset() {\r\n  return dispatch => {\r\n    dispatch(dataResetSuccess());\r\n  }\r\n  function dataResetSuccess() { return { type: dataConstants.DATA_RESET } }\r\n}\r\n","import React from 'react';\n\nconst Home = React.lazy(() => import('./views/Home/Home'));\n\n// https://github.com/ReactTraining/react-router/tree/master/packages/react-router-config\nconst routes = [\n  { path: '/home', exact: true, name: 'Home', component: Home },\n];\n\nexport default routes;\n","import React, { Component, Suspense } from 'react';\r\nimport { Redirect, Route, Switch } from 'react-router-dom';\r\nimport { Container } from 'reactstrap';\r\nimport { connect } from 'react-redux';\r\nimport { userActions, alertActions } from '../../actions';\r\n\r\nimport routes from '../../routes';\r\n\r\nconst DefaultFooter = React.lazy(() => import('./DefaultFooter'));\r\nconst DefaultHeader = React.lazy(() => import('./DefaultHeader'));\r\n\r\nclass DefaultLayoutPage extends Component {\r\n  loading = () => <div className=\"animated fadeIn pt-1 text-center esans\">Loading...</div>\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"app\">\r\n        <Suspense  fallback={this.loading()}>\r\n          <DefaultHeader/>\r\n          <div className=\"app-body esans\">\r\n            <main className=\"main\">\r\n              <Container fluid>\r\n                <Switch className=\"esans\">\r\n                  {routes.map((route, idx) => {\r\n                    return route.component ? (\r\n                      <Route\r\n                        key={idx}\r\n                        path={route.path}\r\n                        exact={route.exact}\r\n                        name={route.name}\r\n                        render={props => (\r\n                          <route.component\r\n                            {...props}\r\n                            googleMapURL={\"https://maps.googleapis.com/maps/api/js?key=AIzaSyBmZNIuhEjfHxZf6ZNmCvJnXI_AIfxZ-no&libraries=geometry,drawing,places\"}\r\n                            loadingElement={<div style={{ height: `100%` }} />}\r\n                            containerElement={<div style={{ height: `400px` }} />}\r\n                          />\r\n                        )} />\r\n                    ) : (null);\r\n                  })}\r\n                  <Redirect from=\"/\" to=\"/home\" />\r\n                </Switch>\r\n              </Container>\r\n            </main>\r\n          </div>\r\n          <DefaultFooter />\r\n        </Suspense>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isLoginPending: state.authentication.isLoginPending,\r\n    isLoginSuccess: state.authentication.isLoginSuccess,\r\n    loginError: state.authentication.loginError,\r\n    errorMessage: state.alert.message,\r\n    signUp: state.authentication.signUp,\r\n    human: state.authentication.human,\r\n    latestAction: state.authentication.latestAction,\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, history) => {\r\n  return {\r\n    errorVisible: (show) => dispatch(alertActions.visible(show)),\r\n    error: (errorMessage) => dispatch(alertActions.error(errorMessage)),\r\n    authentication: (email, password, history, document) => dispatch(userActions.login(email, password, history, document)),\r\n    signupEmail: (email, username, password, history, document) => dispatch(userActions.register(email, username, password, history, document)),\r\n    forgotPassword: (email, document) => dispatch(userActions.forgotPassword(email, document)),\r\n    reset: () => dispatch(userActions.reset()),\r\n    googleLogin: (history) => dispatch(userActions.googleLogin(history)),\r\n    facebookLogin: (history) => dispatch(userActions.facebookLogin(history)),\r\n    loginFailure: (loginError, error, user, userData) => dispatch(userActions.loginFailure(loginError, error, user, userData)),\r\n    reCaptchaUpdate: (human, signUp, latestAction) => dispatch(userActions.reCaptchaUpdate(human, signUp, latestAction)),\r\n  };\r\n}\r\n\r\nconst DefaultLayout = connect(mapStateToProps, mapDispatchToProps)(DefaultLayoutPage);\r\nexport default DefaultLayout;\r\n"],"sourceRoot":""}